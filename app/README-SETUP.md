# FranumBot - ุฑุงูููุง ุฑุงูโุงูุฏุงุฒ

## ๐ ูพุดโูุงุฒูุง

- Node.js (ูุณุฎู 18 ุง ุจุงูุงุชุฑ)
- MySQL (ูุณุฎู 8.0 ุง ุจุงูุงุชุฑ)
- PowerShell (ุจุฑุง ุงุฌุฑุง ุงุณฺฉุฑูพุชโูุง)

## ๐ ุฑุงูโุงูุฏุงุฒ ุณุฑุน

### ุฑูุด 1: ุฑุงูโุงูุฏุงุฒ ฺฉุงูู ุฎูุฏฺฉุงุฑ
```powershell
# ุฏุฑ ุฏุงุฑฺฉุชูุฑ app ุงุฌุฑุง ฺฉูุฏ
.\start-system.ps1
```

### ุฑูุด 2: ุฑุงูโุงูุฏุงุฒ ุฏุณุช

#### 1. ูุตุจ Dependencies
```bash
# ูุตุจ dependencies ุจุฑุง Next.js app
npm install

# ูุตุจ dependencies ุจุฑุง bot
cd bot
npm install
cd ..
```

#### 2. ุฑุงูโุงูุฏุงุฒ ุฏุชุงุจุณ
```bash
# ุงุฌุฑุง ุงุณฺฉุฑูพุช ุฑุงูโุงูุฏุงุฒ ุฏุชุงุจุณ
node setup-database.js
```

#### 3. ุงุฌุงุฏ ูุงู ุชูุธูุงุช
ูุงู `.env.local` ุฑุง ุจุง ูุญุชูุง ุฒุฑ ุงุฌุงุฏ ฺฉูุฏ:
```env
# Database Configuration
DB_HOST=localhost
DB_USER=root
DB_PASSWORD=Alireza1380#
DB_NAME=franumbot_db

# Bot Configuration
BOT_TOKEN=8200827364:AAGVkmbDAHNBrIY31deTelKzbQ1Rob5Y2KE
BOT_USERNAME=FragmentParsiBot

# Mini App Configuration
MINI_APP_URL=https://app.numberstar.shop
NEXT_PUBLIC_BASE_URL=https://app.numberstar.shop
```

#### 4. ุฑุงูโุงูุฏุงุฒ ุณุฑูุณโูุง

**ุฑุงูโุงูุฏุงุฒ Next.js app:**
```bash
npm run dev
```

**ุฑุงูโุงูุฏุงุฒ ุฑุจุงุช ุชูฺฏุฑุงู:**
```bash
cd bot
.\start-bot.ps1
```

**ุง ุฑุงูโุงูุฏุงุฒ ููุฒูุงู:**
```bash
.\start-all.ps1
```

## ๐ง ุนุจโุงุจ

### ูุดฺฉู Hash Mismatch
ุงฺฏุฑ ุจุง ุฎุทุง "Hash mismatch" ููุงุฌู ุดุฏุฏ:
1. ูุทูุฆู ุดูุฏ ฺฉู `BOT_TOKEN` ุตุญุญ ุงุณุช
2. ุฏุฑ ูุญุท developmentุ ุงู ุฎุทุง ูุงุฏุฏู ฺฏุฑูุชู ูโุดูุฏ
3. ุจุฑุง productionุ ุจุงุฏ hash validation ุฑุง ุงุตูุงุญ ฺฉูุฏ

### ูุดฺฉู ุฏุณุชุฑุณ ุฏุชุงุจุณ
ุงฺฏุฑ ุจุง ุฎุทุง ุฏุณุชุฑุณ MySQL ููุงุฌู ุดุฏุฏ:
1. ูุทูุฆู ุดูุฏ ฺฉู MySQL ุฏุฑ ุญุงู ุงุฌุฑุง ุงุณุช
2. ุฑูุฒ ุนุจูุฑ ฺฉุงุฑุจุฑ `root` ุฑุง ุจุฑุฑุณ ฺฉูุฏ
3. ุฏุณุชุฑุณโูุง ฺฉุงุฑุจุฑ ุฑุง ุจุฑุฑุณ ฺฉูุฏ

### ูุดฺฉู ุชุฏุงุฎู ุฑุจุงุช (409 Conflict)
ุงฺฏุฑ ุฑุจุงุช ุจุง ุฎุทุง 409 ููุงุฌู ุดุฏ:
1. ุชูุงู instance ูุง ูุจู ุฑุจุงุช ุฑุง ูุชููู ฺฉูุฏ
2. ฺูุฏ ุซุงูู ุตุจุฑ ฺฉูุฏ
3. ุฏูุจุงุฑู ุฑุจุงุช ุฑุง ุฑุงูโุงูุฏุงุฒ ฺฉูุฏ

## ๐ ุณุงุฎุชุงุฑ ูพุฑูฺู

```
app/
โโโ src/                    # ฺฉุฏูุง Next.js
โ   โโโ app/               # ุตูุญุงุช ู API routes
โ   โโโ components/        # ฺฉุงููพูููุชโูุง React
โ   โโโ database/          # ุณุฑูุณโูุง ุฏุชุงุจุณ
โ   โโโ hooks/             # Custom hooks
โ   โโโ services/          # ุณุฑูุณโูุง ุฎุงุฑุฌ
โ   โโโ utils/             # ุชูุงุจุน ฺฉูฺฉ
โโโ bot/                   # ฺฉุฏูุง ุฑุจุงุช ุชูฺฏุฑุงู
โ   โโโ index.js          # ูุงู ุงุตู ุฑุจุงุช
โ   โโโ config.js          # ุชูุธูุงุช ุฑุจุงุช
โ   โโโ start-bot.ps1     # ุงุณฺฉุฑูพุช ุฑุงูโุงูุฏุงุฒ ุฑุจุงุช
โโโ database/              # ูุงูโูุง ุฏุชุงุจุณ
โโโ public/                # ูุงูโูุง ุงุณุชุงุชฺฉ
โโโ setup-database.js      # ุงุณฺฉุฑูพุช ุฑุงูโุงูุฏุงุฒ ุฏุชุงุจุณ
โโโ start-system.ps1      # ุงุณฺฉุฑูพุช ุฑุงูโุงูุฏุงุฒ ฺฉุงูู
โโโ start-all.ps1         # ุงุณฺฉุฑูพุช ุฑุงูโุงูุฏุงุฒ ููุฒูุงู
```

## ๐ ุฏุณุชุฑุณโูุง

- **Next.js App:** http://localhost:6592
- **API Endpoints:** http://localhost:6592/api/*
- **Bot:** ุงุฒ ุทุฑู ุชูฺฏุฑุงู

## ๐ ูพุดุชุจุงู

ุฏุฑ ุตูุฑุช ุจุฑูุฒ ูุดฺฉูุ ูุงฺฏโูุง ฺฉูุณูู ุฑุง ุจุฑุฑุณ ฺฉูุฏ ู ุจุง ุชู ุชูุณุนู ุชูุงุณ ุจฺฏุฑุฏ.
